@using AdminLTE.ViewModels;
@using Microsoft.AspNetCore.Identity
@model IEnumerable<IdentityRole>

    @{
        ViewData["Title"] = localizer["Roles_Title"];
    }

    <div class="mt-5">
        <div>
            <div>
                <h1 class="mb-4">@localizer["Roles_Title"]</h1>
            </div>
            <div>
                <partial name="_RoleForm" model="new RoleFormViewModel()" />
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-header text-white" style="background-color:rgb(61, 66, 124)">
                @localizer["Roles_Header"]
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered" id="rolesTable">
                        <thead>
                            <tr>
                                <th style="text-align: @(CultureInfo.CurrentCulture.Name.StartsWith("ar") ? "right" : "left")">@localizer["Roles_RoleName"]</th>
                                <th style="text-align: @(CultureInfo.CurrentCulture.Name.StartsWith("ar") ? "right" : "left")">@localizer["Roles_Permissions"]</th>

                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var role in Model)
                            {
                                <tr>
                                    <td>@role.Name</td>
                                    <td>
                                        <a class="btn btn-primary" href="@Url.Action("ManagePermissions", new { roleId = role.Id })">
                                            @localizer["Roles_ManagePermissions"] <i class="fa fa-sliders ml-1"></i>
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap4.min.js"></script>

    <script>
        var localizationStrings = {
            "search": "@localizer["datatable_search"]",
            "lengthMenu": "@localizer["datatable_lengthMenu"]",
            "info": "@localizer["datatable_info"]",
            "infoEmpty": "@localizer["datatable_infoEmpty"]",
            "infoFiltered": "@localizer["datatable_infoFiltered"]",
            "zeroRecords": "@localizer["datatable_zeroRecords"]",
            "paginate": {
                "first": "@localizer["datatable_paginate_first"]",
                "previous": "@localizer["datatable_paginate_previous"]",
                "next": "@localizer["datatable_paginate_next"]",
                "last": "@localizer["datatable_paginate_last"]"
            }
        };
        $(document).ready(function () {
            $('#rolesTable').DataTable({
                searching: true,
                paging: true,
                searching: false,
                ordering: true,
                columns: [
                    null, // Role Name
                    { orderable: false } // Permissions
                ],
                "language": localizationStrings,
            });
        });
    </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.bundle.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>