<link href="~/css/customheader.css" rel="stylesheet" />

<script>
    $(document).ready(function () {
        // Navbar Search
        var searchBlock = $('.navbar-search-block');
        var searchButton = $('[data-widget="navbar-search"]');
        var searchCloseButton = $('[data-widget="navbar-search"] ~ .navbar-search-block button[type="button"]');

        searchButton.on('click', function () {
            searchBlock.toggleClass('active');
            searchBlock.find('.form-control-navbar').focus();
        });

        searchCloseButton.on('click', function () {
            searchBlock.removeClass('active');
        });

        // Language Dropdown
        $('.navbar-lang-dropdown').on('show.bs.dropdown', function () {
            $(this).find('.dropdown-menu').first().stop(true, true).slideDown(150);
        });

        $('.navbar-lang-dropdown').on('hide.bs.dropdown', function () {
            $(this).find('.dropdown-menu').first().stop(true, true).slideUp(150);
        });
    });
</script>

<nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
    </ul>
    <!-- Right navbar links -->
    <ul class="navbar-nav ml-auto">

        <li class="nav-item">
            <div class="navbar-search-block">
                <form class="form-inline">
                    <div class="input-group input-group-sm">
                        <input class="form-control form-control-navbar" type="search" placeholder="@localizer["Search"]" aria-label="@localizer["Search"]">
                        <div class="input-group-append">
                            <button class="btn btn-navbar" type="submit">
                                <i class="fas fa-search"></i>
                            </button>
                            <button class="btn btn-navbar" type="button" data-widget="navbar-search">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </li>
      
        
        <li class="nav-item">
            <a class="nav-link" data-toggle="dropdown" href="#">
                <partial name="_SelectLanguagePartial" />
            </a>
        </li>
        

        <li class="nav-item">
            <a class="nav-link nav-link-icon" data-widget="fullscreen" href="#" role="button">
                <i class="fas fa-expand-arrows-alt"></i>
            </a>
        </li>
        <!-- Logout Button -->
        <li class="nav-item">
            <form id="logoutForm" asp-area="" asp-controller="Account" asp-action="Logout" method="post" onsubmit="return confirmLogout(event)">
                <button type="submit" class="btn btn-link nav-link" id="logoutButton">
                    @localizer["Logout"]
                </button>
            </form>
        </li>



        <!-- Menu Footer-->
        <li class="user-footer">
          <!-- TODO -->
        </li>
    </ul>
    </li>

</nav>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    function confirmLogout(event) {
        event.preventDefault(); 

        Swal.fire({
            title: '@localizer["Logout"]',
            text: '@localizer["Are you sure you want to logout?"]',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: '@localizer["Yes, logout!"]',
            cancelButtonText: '@localizer["Cancel"]'
        }).then((result) => {
            if (result.isConfirmed) {
                document.getElementById('logoutForm').submit();
            }
        });
    }
</script>


